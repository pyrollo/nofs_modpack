# Classes
## Form
A form instance that is displayed to a player. Form definition gives the
direction of how should the form look like. Then data context (player, maybe
node or other stuff) will influence what is exactly instantiated. Form instance
issues events that can be handled by specific callbacks.
This is the main entry point of NoFS (using **nofs.new_form**)
## Item
An instance of an item in the form. Mostly generated by a Form object, can be
generated by some widgets (scrollbars for example). Should not be created
outside NoFS.
# Concepts
## Form definition
**Form definition** is a table describing the form that should be displayed.
Internally, NoFS creates Item instances according to that form definition plus
the data sources (some items in the definition may be repeated in the instance
if they are connected to multiple data).
## Context
**Context** is somewhere internal data are stored for technic and persistance
purpose.
## Data
To be defined. Probably, data will be linked to items by item contexts.
## Widget
**Widget** are actually widget types. Each form item has a widget type
(including the form itself that has implicitly the "form" widget type).

# Items definition attributes
## Common attributes
- **id**: Identifier of the item. Must be unique in the form. If none given but
required for technical purpose, a unique id is generated.
- **type** (required): Type of widget
- **width**, **height**: Size of the item

## Containers
Several containers works the same way: **vbox**, **hbox**, **form**.

## Button
- **label**: Label displayed on the button
- **image**: Image displayed on the button
- **item**: Item displayed on the button

A button can't have both **image** and **item** attributes. In such case
**item** attribute is ignored.

- **exit**: If true, the button will exit on click (form closing will be done by
the client without waiting for the server to tell to close).

## Field
- **hidden**: If true, the field will not display text (password field)

## Label
- **label**: Text displayed
- **direction**: ''horizontal'' (default) or ''vertical'' text direction

## Inventory

# Events
## on_close
Sources: **form**
## on_clicked
Sources: **button**, **checkbox**
## on_changed
Sources: **field**, **checkbox**

| Formspec element | nofs widget | Status |
| --- | --- |
| size[W,H] | Form level | Done |
| position[X,Y] | Form level | Not started |
| anchor[X,Y] | Form level | Not started |
| no_prepend[] | Form level | Not started |
| container[X,Y] | | Useless |
| container_end[] | | Useless |
| list[invloc;listname;X,Y;W,H;] | inventory | Done |
| list[invloc;listname;X,Y;W,H;index] | inventory | Not started |
| listring[invloc;listname] | inventory | Done |
| listring[] | ? | Not started |
| listcolors[bgcolor;bgcolorhover] | ? | Not started |
| listcolors[bgcolor;bgcolorhover;border] | ? | Not started |
| listcolors[bgcolor;bgcolorhover;border;tooltip_bg;tooltip_fontcolor] | ? | Not started |
| tooltip[id;text;bgcolor;fontcolor] | ? | Not started |
| tooltip[X,Y;W,H;text;bgcolor;fontcolor] | ? | Not started |
| image[X,Y;W,H;texture] | ? | Not started |
| item_image[X,Y;W,H;itemname] | ? | Not started |
| bgcolor[color;fullscreen] | Form level | Not started |
| background[X,Y;W,H;texture] | Form level | Not started |
| background[X,Y;W,H;texture;auto_clip] | Form level | Not started |
| pwdfield[X,Y;W,H;name;label] | field | Done |
| field[X,Y;W,H;name;label;default] | field | Done |
| field[name;label;default] | field | Done |
| field_close_on_enter[name;close_on_enter] | field | Not started |
| textarea[X,Y;W,H;name;label;default] | ? | Not started |
| label[X,Y;label] | label | Done |
| vertlabel[X,Y;label] | label | Done |
| button[X,Y;W,H;name;label] | button | Done |
| image_button[X,Y;W,H;image;name;label] | button | Done |
| image_button[X,Y;W,H;image;name;label;noclip;drawborder;pressedimage] | button | Not started |
| item_image_button[X,Y;W,H;item name;name;label] | button | Done |
| button_exit[X,Y;W,H;name;label] | button | Done |
| image_button_exit[X,Y;W,H;image;name;label] | button | Done |
| textlist[X,Y;W,H;name;listelem 1,listelem 2,...,listelem n] | ? | Not started |
| tabheader[X,Y;name;caption 1,caption 2,...,caption n;current_tab;transparent;draw_border] | ? | Not started |
| textlist[X,Y;W,H;name;listelem 1,listelem 2,...,listelem n;selected idx;transparent] | ? | Not started |
| box[X,Y;W,H;color] | vbox/hbox | Not started |
| checkbox[X,Y;label] | checkbox | Done |
| dropdown[X,Y;W;name;item 1,item 2, ...,item n;selected idx] | ? | Not started |
| scrollbar[X,Y;W,H;orientation;name;value] | ? | Not started |
| table[X,Y;W,H;name;cell 1,cell 2,...,cell n;selected idx] | ? | Not started |
| tablecolumns[type 1,opt 1a,opt 1b,...;type 2,opt 2a,opt 2b;...] | ? Not started |
